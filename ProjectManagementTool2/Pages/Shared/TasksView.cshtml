@model ProjectManagementTool.Models.NonBasicModels.TasksViewModel

<div class="container-fluid h-100 w-100 overflow-auto">
	<div class="accordion-flush" id="tasksAccordion">
		@if (Model.tasks == null)
		{
			<div>Empty</div>
		}
		else
		{
			@foreach (Models.Task task in Model.tasks)
			{
				<div class="accordion-item" id="accordion-@task.guid">
					<h2 class="accordion-header" id="heading-@task.guid">
						<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-@task.guid" aria-expanded="false" aria-controls="collapse-@task.guid">
							@task.title
							@if (task.isNew)
							{
								<p> </p>
								<span class="badge bg-secondary">New</span>
							}
						</button>
					</h2>
					<div id="collapse-@task.guid" class="accordion-collapse collapse" aria-labelledby="heading-@task.guid" data-bs-parent="#tasksAccordion">
						<div class="accordion-body">
							<p>
								@task.description
							</p>
							<h6>
								Due @task.deadline
							</h6>
							@if (task.deadline <= DateTime.Now)
							{
								<span class="badge bg-danger">Late</span>
							}
						</div>
					</div>
				</div>
			}
		}
	</div>
</div>
